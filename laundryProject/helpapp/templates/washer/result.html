{% extends '../layout.html' %}
{% load static %}<!-- 必須 -->
{% load mathfilters %}
{% block link%}
    <link rel="stylesheet" href="{% static 'css/WasherResult.css' %}">
{% endblock %}
{% block content %}
<div class="content">
    <div class="scroll">
        {% for washer in washers %}
            <div class="pictures">
                <a href='{% url "helpapp:cabinet_detail" washer.pk %}'>
                <img src="{{washer.image.url}}" class="washer_img">
                </a>
            </div>
        {% endfor %}
    </div>
    <div class="title">洗濯方法</div>
    <table>
        {% for tag in comp %}
            {% with img="/pictures/"|add:tag|add:".png" %}
                <tr><td><img class="tag_img" src="{% static img%}"></td>
            {% endwith %}
            <td><div id="{{tag}}"></div></td></tr>
        {% endfor %}
    </table>
    <div class="button">
        <a href='{% url "helpapp:washer_complete" %}'>
            <button type="button" class="finish">完了</button>
        </a>
        <a href="{% url 'helpapp:washer_log_add' %}">
            <button type="button" class="washer_log_add">ブックマークに追加</button>
        </a>
        <a href="{% url 'helpapp:washer_clear' %}">
            <button type="button" class="washer_clear">洗濯機をクリア</button>
        </a>
    </div>
</div>
<div class="space"></div>
<script type="text/javascript">
    let tags = JSON.parse('{{ comp_json|safe }}');
    let taginfos = eval({{ taginfos|safe }});
    for (const tag of tags) {
        let text = document.getElementById(tag); //宣言
        for (const taginfo of taginfos) {
            if ( tag == taginfo[0]) {
                text.innerHTML = (taginfo[1])
            }
        }
    }
</script>
{% endblock %}
